<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Trip Invite ğŸ˜„</title>

  <style>
    body {
      height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffecd2, #fcb69f);
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .container {
      text-align: center;
    }

    h1 {
      margin-bottom: 15px;
    }

    .gif {
      width: 220px;
      display: block;
      margin: 10px auto 20px;
    }

    #celebrationGif {
      display: none;
      width: 260px;
      margin: 20px auto;
    }

    .btn-group {
      margin-top: 10px;
    }

    button {
      padding: 12px 24px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
    }

    #yesBtn {
      background-color: #4CAF50;
      color: white;
    }

    #noBtn {
      background-color: #f44336;
      color: white;
      position: fixed;
      visibility: hidden; /* shown after JS positions it */
    }

    #celebration {
      display: none;
      font-size: 32px;
      margin-top: 20px;
    }
  </style>
</head>

<body>

  <div class="container">
    <h1>Will you join me for a trip? ğŸŒâœˆï¸</h1>

    <!-- Intro GIF -->
    <img
      id="introGif"
      class="gif"
      src="https://media.tenor.com/FjMj_01lPz4AAAAM/spongebob-squarepants-spongebob.gif"
      alt="asking gif"
    />

    <!-- Buttons -->
    <div class="btn-group">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

    <!-- Celebration -->
    <div id="celebration">ğŸ‰ğŸ¥³ Yay!!! ğŸ‰ğŸ¥³</div>

    <img
      id="celebrationGif"
      src="https://media.tenor.com/TsNWXQ2E8pAAAAAM/celebration-confetti.gif"
      alt="celebration gif"
    />
  </div>

  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const celebration = document.getElementById("celebration");
    const introGif = document.getElementById("introGif");
    const celebrationGif = document.getElementById("celebrationGif");

    const padding = 20;
    const escapeDistance = 120;

    // Correct initial position AFTER layout
    window.addEventListener("load", () => {
      const rect = noBtn.getBoundingClientRect();
      const left = (window.innerWidth - rect.width) / 2 + 90;
      const top = (window.innerHeight - rect.height) / 2 + 120;

      noBtn.style.left = left + "px";
      noBtn.style.top = top + "px";
      noBtn.style.visibility = "visible";
    });

    // Mouse-avoid logic (edge-safe)
    document.addEventListener("mousemove", (e) => {
      const rect = noBtn.getBoundingClientRect();

      const danger = 50;
      const inDanger =
        e.clientX > rect.left - danger &&
        e.clientX < rect.right + danger &&
        e.clientY > rect.top - danger &&
        e.clientY < rect.bottom + danger;

      if (!inDanger) return;

      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;

      let moveX = centerX - e.clientX;
      let moveY = centerY - e.clientY;

      const length = Math.hypot(moveX, moveY) || 1;
      moveX = (moveX / length) * escapeDistance;
      moveY = (moveY / length) * escapeDistance;

      let newX = rect.left + moveX;
      let newY = rect.top + moveY;

      const maxX = window.innerWidth - rect.width - padding;
      const maxY = window.innerHeight - rect.height - padding;

      if (rect.left < padding) newX += escapeDistance;
      if (rect.right > window.innerWidth - padding) newX -= escapeDistance;
      if (rect.top < padding) newY += escapeDistance;
      if (rect.bottom > window.innerHeight - padding) newY -= escapeDistance;

      newX = Math.max(padding, Math.min(maxX, newX));
      newY = Math.max(padding, Math.min(maxY, newY));

      noBtn.style.left = newX + "px";
      noBtn.style.top = newY + "px";
    });

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
    });

    // YES click â†’ celebration
    yesBtn.addEventListener("click", () => {
      celebration.style.display = "block";
      celebrationGif.style.display = "block";
      introGif.style.display = "none";

      yesBtn.style.display = "none";
      noBtn.style.display = "none";
    });
  </script>

</body>
</html>
